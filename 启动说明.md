# 播客助手 · 启动说明

## 1. 配置 Claude API Key（推荐：本地 .env，安全且不用每次输入）

**方式一：用 .env 文件（推荐）**

1. 在项目根目录复制示例文件并改名为 `.env`：
   ```bash
   cp .env.example .env
   ```
2. 用任意编辑器打开 `.env`，把 `你的-api-key` 换成你在 Anthropic 申请的 Key。
3. 保存后直接执行 `npm start` 即可，无需再在终端里 `export`。

- `.env` 已被加入 `.gitignore`，不会被提交到版本库，可安全放在本机。
- API Key 获取：登录 [Anthropic Console](https://console.anthropic.com/) → API Keys → Create Key。
- 当前后端使用模型：**Claude 3.5 Sonnet**（`claude-3-5-sonnet-20241022`）。

**方式二：终端环境变量（二选一即可）**

```bash
export ANTHROPIC_API_KEY="你的-api-key"
# 或者
export ANTHROPIC_API_KEY_CLAUDE="你的-api-key"
```

---

**关于 Cursor Pro：** Cursor 的 AI 是内嵌在编辑器里使用的，**不提供**可供本应用「提纯」接口直接调用的公开 API。因此「提纯」功能仍需使用 Anthropic 官方 API Key（如上配置），或后续可扩展的本地模型（如 Ollama）方案。

## 2. 安装依赖（已完成可跳过）

```bash
cd "/Users/shenyihui/Documents/【✨】播客AI-mypodcastAI"
npm install
```

## 3. 启动服务

在项目目录下执行：

```bash
npm start
```

看到类似输出即表示成功：

```
播客助手已启动: http://localhost:3001
请务必在浏览器打开上述地址使用（不要直接双击 index.html，否则会 Failed to fetch）
```

## 4. 解决「Failed to fetch」报错

**原因：** 浏览器安全策略不允许用「打开本地 HTML 文件」（`file://...`）的页面随意访问 `http://localhost`，或服务未启动时请求会失败。

**正确用法（两步缺一不可）：**

1. **先**在终端运行：`npm start`，保持终端不关闭。
2. **再**在浏览器地址栏输入并打开：**http://localhost:3001**（不要双击 `index.html`）。

这样页面和接口同源，不会触发跨域，也不会出现 Failed to fetch。

## 5. 可选：自定义端口

若 3001 被占用，可指定端口后启动：

```bash
PORT=3002 npm start
```

然后在浏览器打开：http://localhost:3002

---

**健康检查：** 服务启动后，在浏览器访问 http://localhost:3001/api/health 可查看服务状态和是否已配置 API Key。
